{
  "query": "\nSELECT \n  ii.id as item_id,\n  e.name as environment_name,\n  COUNT(ist.id) as total_steps,\n  GROUP_CONCAT(CONCAT(ist.step_order, ':', ist.step_name) ORDER BY ist.step_order SEPARATOR ' | ') as steps_detail\nFROM inspection_items ii\nLEFT JOIN environments e ON ii.environment_id = e.id\nLEFT JOIN installation_steps ist ON ii.id = ist.inspection_item_id\nGROUP BY ii.id, e.name\nORDER BY e.name;\n",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway03.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 2RJ6pkiYcWrkG7s.7677514b54b3 --database AdJ4NUusdiWEA7xpHs45nc --execute \nSELECT \n  ii.id as item_id,\n  e.name as environment_name,\n  COUNT(ist.id) as total_steps,\n  GROUP_CONCAT(CONCAT(ist.step_order, ':', ist.step_name) ORDER BY ist.step_order SEPARATOR ' | ') as steps_detail\nFROM inspection_items ii\nLEFT JOIN environments e ON ii.environment_id = e.id\nLEFT JOIN installation_steps ist ON ii.id = ist.inspection_item_id\nGROUP BY ii.id, e.name\nORDER BY e.name;\n",
  "rows": [
    {
      "item_id": "60017",
      "environment_name": "Espaço Fitnes",
      "total_steps": "3",
      "steps_detail": "1:Instalação | 2:Acabamento | 3:Finalizado"
    },
    {
      "item_id": "60018",
      "environment_name": "Piscina Coberta",
      "total_steps": "3",
      "steps_detail": "1:Instalação | 2:Acabamento | 3:Finalizado"
    },
    {
      "item_id": "2",
      "environment_name": "Piscina Coberta - Editado",
      "total_steps": "5",
      "steps_detail": "1:Instalação | 1:Instalação | 1:Instalação | 2:Acabamento | 3:Finalizado"
    },
    {
      "item_id": "1",
      "environment_name": "Sauna",
      "total_steps": "3",
      "steps_detail": "1:Instalação | 2:Acabamento | 3:Finalizado"
    }
  ],
  "messages": [],
  "stdout": "item_id\tenvironment_name\ttotal_steps\tsteps_detail\n60017\tEspaço Fitnes\t3\t1:Instalação | 2:Acabamento | 3:Finalizado\n60018\tPiscina Coberta\t3\t1:Instalação | 2:Acabamento | 3:Finalizado\n2\tPiscina Coberta - Editado\t5\t1:Instalação | 1:Instalação | 1:Instalação | 2:Acabamento | 3:Finalizado\n1\tSauna\t3\t1:Instalação | 2:Acabamento | 3:Finalizado\n",
  "stderr": "",
  "execution_time_ms": 55
}